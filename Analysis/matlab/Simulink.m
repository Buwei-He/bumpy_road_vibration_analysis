clc; clear all; close all;

%% Simulink
syms s
% mathematica 中先转为input输入 再复制为纯文本
%% Rigid Beam

numr1 = (1.4284497255757928*10^6 + 425505.2610065488*s +... 
     385338.33230079565*s^2 + 68195.20303253246*s^3 + ...
     23481.527675713685*s^4 + 22.59646034168956*s^5 + ...
     9.391368259303245*s^6);
numr2 = (-133515.73809105466 - 53172.95995053625*s - ...
     16879.626676705127*s^2 - 1634.722505942741*s^3 + ...
     11.497618055731964*s^4 - 26.711910379182076*s^5 + ...
     0.22258096243896983*s^6);
numr3 = (-687121.4037937659 - 119244.91636165528*s - ...
     208774.4186698126*s^2 - 11839.062812853124*s^3 - ...
     17989.295813529385*s^4 - 9.10914116563183*s^5 - ...
     7.210139685113006*s^6);

denr = (1.5003720689671736*10^6*s + ...
     595837.0411964703*s^2 + 600226.9185011135*s^3 + ...
     157253.8207846371*s^4 + 72278.48734916444*s^5 + ...
     9628.747628198886*s^6 + 2459.9319339254157*s^7 + ...
     3.935387038105005*s^8 + 1.*s^9);


num_r_yc = sym2poly(numr1);
num_r_theta = sym2poly(numr2);
num_r_psi = sym2poly(numr3);
den_r = sym2poly(denr);

% L_r_yc = tf(num_r_yc,den_r);
% L_r_theta = tf(num_r_theta,den_r);
% L_r_psi = tf(num_r_psi,den_r);
% impulse(L_r_yc)
% impulse(L_r_theta)
% impulse(L_r_psi)



%% Dynamic Beam


numd1 =(-3.68056*10^20 - 7.92931*10^19 *s - 5.40561*10^18 *s^2 -... 
   1.82868*10^17 *s^3 - 7.63367*10^15 *s^4 - 6.3495*10^13 *s^5 + ... 
   2.6791*10^12 *s^6 + 8.30078*10^9 *s^7 + 2.02972*10^9 *s^8 + ... 
   3.69911*10^6 *s^9 + 382.704 *s^10);
numd2 =(1.81859*10^20 - 1.58729*10^20 *s - 3.70505*10^19 *s^2 - ... 
   2.39005*10^18 *s^3 - 8.89394*10^16 *s^4 - 4.60003*10^15 *s^5 - ... 
   3.9252*10^13 *s^6 - 1.50454*10^12 *s^7 - 3.67969*10^9 *s^8 - ... 
   2.20214*10^6 *s^9 - 199.864 *s^10);
numd3 =(1.75081*10^20 - 1.60085*10^20 *s - 3.71195*10^19 *s^2 -...  
   2.37858*10^18 *s^3 - 8.77836*10^16 *s^4 - 4.5882*10^15 *s^5 - ... 
   3.81383*10^13 *s^6 - 1.49972*10^12 *s^7 - 3.42012*10^9 *s^8 - ... 
   1.38329*10^6 *s^9 + 464.163 *s^10);
numd4 = (5.14207*10^20 + 1.54262*10^20 *s + 1.54105*10^19 *s^2 + ... 
   4.14326*10^16 *s^3 - 9.409*10^16 *s^4 - 4.93613*10^15 *s^5 - ... 
   4.39702*10^13 *s^6 - 2.0153*10^12 *s^7 - 1.09847*10^9 *s^8 + ... 
   4.95909*10^6 *s^9 + 1983.79 *s^10);
dend = (1.8368*10^22 *s + 5.51041*10^21 *s^2 + 6.0554*10^20 *s^3 + ... 
   3.40753*10^19 *s^4 + 1.55182*10^18 *s^5 + 6.00934*10^16 *s^6 + ... 
   1.06628*10^15 *s^7 + 3.37447*10^13 *s^8 + 2.55392*10^11 *s^9 + ... 
   5.9526*10^9 *s^10 + 1.55257*10^7 *s^11 + 10719.7 *s^12 + 1. *s^13);

num_d_yc = sym2poly(numd1);
num_d_theta = sym2poly(numd2);
num_d_psi = sym2poly(numd3);
num_d_q = sym2poly(numd4);
den_d = sym2poly(dend);


L_d_yc = tf(num_d_yc,den_d)
L_d_theta = tf(num_d_theta,den_d);
L_d_psi = tf(num_d_psi,den_d);
L_d_q = tf(num_d_q,den_d)

% impulse(L_d_yc)
% impulse(L_d_theta)
% impulse(L_d_psi)
figure
impulse(L_d_q)

